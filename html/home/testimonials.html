<div class="section section-testimonials">
  <div class="container">
    <div class="content">
      <div class="profile">
        <div class="profile-picture">
          <img src="" alt="profile-picture" class="">
        </div>
        <div class="profile-details">
          <h3 class="profile-name">Loading...</h3>
          <h4 class="profile-class">Loading...</h4>
        </div>
      </div>
      <div class="body">
        <h4 class="section-title">Testimonial</h4>
        <h3 class="body-title">Loading...</h3>
        <p class="body-text">Loading...</p>
      </div>
    </div>
    <div class="nav">
      <h3 class="nav-page">Page 1 / 4</h3>
      <div class="button-group">
        <button id="testimonial-nav-left"><i class="fa-solid fa-chevron-left"></i></button>
        <button id="testimonial-nav-right"><i class="fa-solid fa-chevron-right"></i></button>
      </div>
    </div>
  </div>
</div>

<style>
  .section-testimonials .container {
    padding: 40px 60px;
    /* padding: 40px; */
    /* border-radius: 15px; */
    position: relative;
    overflow: hidden;
    background: white;
    /* background: linear-gradient(180deg, rgba(255, 250, 246, 1) 0%, rgba(255, 239, 229, 1) 100%); */
    /* box-shadow: 0 0 30px rgba(255, 125, 45, 0.1); */
    box-shadow: 0 0 30px rgba(0,0,0,0.1);
    cursor: default;
    transition: background 0.2s ease;
  }

  .section-testimonials .container:hover {
    background: #FFF4ED;
    transition: background 0.2s ease;
  }

  .section-testimonials .content {
    display: flex;
    align-items: center;
    margin-bottom: calc(2rem + 30px);
  }

  .section-testimonials .content .profile {
    /* display: flex; */
    align-items: center;
    /* margin-bottom: 2rem; */
    margin-right: 60px;
  }

  .section-testimonials .content .profile > * {
    margin: 0;
  }

  .section-testimonials .content .profile .profile-picture {
    overflow: hidden;
    width: 150px;
    height: 150px;
    border-radius: 100%;
    /* margin-right: 2rem; */
    margin-bottom: 0.5rem;
  }

  .section-testimonials .content .profile .profile-picture img {
    object-fit: cover;
    aspect-ratio: 1;
  }

  .section-testimonials .content .profile .profile-details > * {
    margin: 0;
    text-align: center;
  }

  .section-testimonials .content .profile .profile-details .profile-class {
    color: var(--gurulab-orange);
    text-transform: uppercase;
    font-weight: 600;
    font-size: 1rem;
  }

  .section-testimonials .content .body .section-title {
    color: var(--gurulab-orange);
    text-transform: uppercase;
    font-weight: 600;
    margin-bottom: 0.25rem;
  }

  .section-testimonials .content .body .body-title {
    font-size: 1.5rem;
    margin-bottom: 1.25rem;
    /* color: var(--gurulab-orange); */
  }

  .section-testimonials .nav {
    background-color: var(--gurulab-orange);
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    padding: 15px 60px;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .section-testimonials .nav .nav-page {
    margin: 0;
    font-size: 1rem;
    color: white;
    font-weight: 600;
    text-transform: uppercase;
  }

  .section-testimonials .nav .button-group button {
    width: 45px;
    height: 45px;
    border-radius: 100%;
    border: 2px solid white;
    color: white;
    background-color: rgba(255,255,255,0);
    cursor: pointer;
  }

  .section-testimonials .nav .button-group button:hover {
    color: var(--gurulab-orange);
    background-color: white;
    transition: color 0.2s ease, background-color 0.2s ease;
  }

  @media only screen and (max-width: 768px) {

    .section-testimonials .container {
      padding: 20px;
    }

    .section-testimonials .content {
      display: block;
      margin-bottom: calc(2rem + 50px);
    }

    .section-testimonials .content .profile {
      display: flex;
      margin-bottom: 2rem;
    }

    .section-testimonials .content .profile .profile-picture {
      margin-right: 2rem;
      width: 100px;
      height: 100px;
    }

    .section-testimonials .content .profile .profile-details > * {
      text-align: left;
    }

    .section-testimonials .nav {
      padding: 15px 20px;
    }

  }
</style>

<script>
  const contents = [];
  contents[0] = {
    picture: "https://st3.depositphotos.com/1010683/19125/i/600/depositphotos_191251860-stock-photo-young-asian-woman-smiling.jpg",
    picpos: "object-position: 30% 50%;",
    name: "Lily",
    class: "Parent",
    title: "A in SPM English and Full Government Scholarship to France",
    text: "My son didn’t get an A in his PT3 English and was very disappointed about it. English is his strongest\
          language but he was never taught how to apply grammar skills properly in school so he made a lot of mistakes.\
          But after two years of hard work with the help of his Tutor who is now with GuruLab, he finally got an A in\
          his SPM English. One of the essays he wrote in Form 5 was even published in the school magazine. But the best\
          achievement was when he won a full government scholarship to study in France. He was initially worried that he\
          wouldn’t get it because of his weak speaking skills but his Tutor from GuruLab helped him and he managed to\
          build the confidence to shine during the interviews."
  }
  contents[1] = {
    picture: "https://media.istockphoto.com/photos/profile-of-young-womans-face-picture-id1137851574?k=20&m=1137851574&s=612x612&w=0&h=vdDs2XWP_oZJ4X64orwl6hPLrjfDbkyEB0jhIDmpGtY=",
    picpos: "object-position: 20% 0%;",
    name: "Xiao Hui",
    class: "Parent",
    title: "More than any Online English Tuition",
    text: "GuruLab makes learning interesting and fun as their teaching methods are unique and effective. Despite being\
          virtual, they are still able to engage with my child by having different activities and more importantly, their\
          programmes drive positive results. I was impressed to see my daughter achieving better results after attending\
          GuruLab’s classes! She would even correct my English sometimes because GuruLab gave her to confidence to speak\
          English more fluently. Would highly recommend GuruLab to all parents."
  }
  contents[2] = {
    picture: "https://media.istockphoto.com/photos/young-adult-malaysian-man-portrait-in-studio-picture-id972144358?k=20&m=972144358&s=612x612&w=0&h=bp98hd_3GuJjserfAXZ7kFoFYJFnzrpkd8kNW6BV0ko=",
    picpos: "object-position: 20% 50%;",
    name: "Fikri",
    class: "Student",
    title: "Not Just an English Class",
    text: "GuruLab classes helped improve my fluency in PT3 English speaking because there are lots speaking tests in class.\
          Not only that, GuruLab polished my writing skills and provided the right tools for me to strengthen my foundation\
          in other skills so that I am better prepared for future social or professional settings."
  }
  contents[3] = {
    picture: "https://cdn.tatlerasia.com/tatlerasia/i/2022/03/07122054-donnie-yen-cover_cover_1499x843.jpeg",
    picpos: "object-position: 0% 50%;",
    name: "Vincent",
    class: "Student",
    title: "Character Building",
    text: "My proficiency in the English language has definitely improved tremendously through GuruLab’s online English classes\
          and I am able to speak more fluently and confidently. I choose GuruLab because my tutor ensures that we are ready for SPM\
          English and beyond."
  }

  const Left = -1;
  const Right = 1;

  const prefix = ".section-testimonials .container ";

  var page = 0;
  var totalpagecount = 4;

  $("#testimonial-nav-left").click(function() {
    navigateTestimonials(Left);
  });
  $("#testimonial-nav-right").click(function() {
    navigateTestimonials(Right);
  });

  navigateTestimonials = function(direction) {
    console.log("test");
    page = (((page + direction) % totalpagecount) + totalpagecount) % totalpagecount;
    setPageTestimonials(page);
  };

  setPageTestimonials = function(page) {
    $(prefix+".profile .profile-picture img").attr({
      "src": contents[page].picture,
      "style": contents[page].picpos
    });
    $(prefix+".profile .profile-details .profile-name").text(contents[page].name);
    $(prefix+".profile .profile-details .profile-class").text(contents[page].class);
    $(prefix+".body .body-title").text(contents[page].title);
    $(prefix+".body .body-text").text(contents[page].text);
    $(prefix+".nav .nav-page").text("Page "+(page+1)+" / "+totalpagecount);
  }

  $(document).ready(function() {
    setPageTestimonials(0);
  })
</script>